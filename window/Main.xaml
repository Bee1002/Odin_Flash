<Window x:Class="Odin_Flash.window.Main"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:Odin_Flash.window"
        Loaded="Window_Loaded"
        WindowStartupLocation="CenterScreen"
        Title="Odin Flash" Height="550" Width="900"
        WindowStyle="SingleBorderWindow">
    <Grid>
        <Grid.RowDefinitions >
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>
        <Border Grid.Row="0" Background="{DynamicResource PrimaryHueDarkBrush}" BorderThickness="0" Padding="10" MouseMove="Grid_MouseMove">
            <Grid >
                <Grid.ColumnDefinitions >
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>
                <Label Content="Odin Flash" Grid.Column="0" VerticalAlignment="Center" FontWeight="Bold" Foreground="{DynamicResource PrimaryHueDarkForegroundBrush}"/>
                <StackPanel Orientation="Horizontal"  HorizontalAlignment="Right" Grid.Column="1">
                    <Button x:Name="BtnMinMaxWindow" Foreground="{DynamicResource PrimaryHueLightForegroundBrush}" Click="BtnMinMaxWindow_Click" Content="─" Width="30" Height="30" Margin="2"/>
                    <Button x:Name="BtnMinMaximizeWindow" Foreground="{DynamicResource PrimaryHueLightForegroundBrush}" Click="BtnMinMaximizeWindow_Click" Content="□" Width="30" Height="30" Margin="2"/>
                    <Button x:Name="BtnClose" Foreground="{DynamicResource PrimaryHueLightForegroundBrush}" Click="BtnClose_Click" Content="×" Width="30" Height="30" Margin="2"/>
                </StackPanel>
            </Grid>
        </Border>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions >
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Frame Grid.Column="0" Name="FrmMain" Margin="5"/>
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <!-- Panel para mostrar el puerto COM detectado -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" 
                            HorizontalAlignment="Right" 
                            VerticalAlignment="Top"
                            Margin="10,10,10,5">
                    <Label Content="COM:" 
                           VerticalAlignment="Center" 
                           Margin="0,0,5,0"
                           FontWeight="SemiBold"/>
                    <TextBox Name="TxtPort" 
                             Width="80" 
                             Height="25"
                             IsReadOnly="True"
                             Text="Unknown"
                             TextAlignment="Center"
                             VerticalContentAlignment="Center"
                             Background="{DynamicResource TabColorBrush}"/>
                </StackPanel>
                
                <GroupBox Grid.Row="1" Header="Log" Name="GrpBxLog"
                          Background="{DynamicResource TabColorBrush}"
                          Margin="10">
                    <RichTextBox Block.LineHeight="1"
                                 TextChanged="RichLog_TextChanged" 
                                 Background="{DynamicResource TabColorBrush}"
                                 IsReadOnly="True" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto"  x:Name="RichLog" Margin="0" FontFamily="Courier New"  >

                    </RichTextBox>

                </GroupBox>
                <Button Name="BtnClearRich"
                            Grid.Row="1"
                            VerticalAlignment="Top"
                            Click="BtnClearRich_Click"
                        Margin="0,12,7,0"
                            HorizontalAlignment="Right"
                            Content="Clear" Width="50" Height="25"/>
            </Grid>
        </Grid>

        <Grid Grid.Row="2" Margin="5">
            <Grid.RowDefinitions >
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>
            <ProgressBar Grid.Row="0"
                             Name="ProgBar"
                             Value="0" Foreground="{DynamicResource SecondaryHueLightBrush}" Opacity=".8" Margin="10,5,10,5"/>
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>
                <Label Name="ConnectedName" Grid.Column="0" Content="Disconnected" Margin="5,10,5,4" VerticalAlignment="Center"/>
                <Label Name="Events" Grid.Column="1" Content="Ready" Margin="5,10,5,4" VerticalAlignment="Center"/>
                <Button x:Name="ScreenShot" Grid.Column="2" Margin="5,6,5,0" Click="ScreenShot_Click" Content="Screenshot"/>
                <Button x:Name="BtnStop" IsEnabled="False" Grid.Column="3" Margin="5,10,10,4" Click="BtnStop_Click" Content="Stop"/>
            </Grid>
        </Grid>
    </Grid>
</Window>
